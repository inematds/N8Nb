<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wait - n8n Cheatsheet</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #795548 0%, #5D4037 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }
        .header .subtitle {
            font-size: 1.2em;
            opacity: 0.95;
        }
        .content {
            padding: 40px;
        }
        .section {
            margin-bottom: 35px;
        }
        .section h2 {
            color: #795548;
            font-size: 1.8em;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 3px solid #795548;
        }
        .section h3 {
            color: #667eea;
            font-size: 1.4em;
            margin: 25px 0 15px 0;
        }
        .section p {
            line-height: 1.8;
            margin-bottom: 15px;
            font-size: 1.05em;
        }
        ul {
            margin: 15px 0;
            padding-left: 25px;
        }
        ul li {
            margin-bottom: 12px;
            line-height: 1.7;
            font-size: 1.05em;
        }
        .highlight-box {
            background: #f8f9fa;
            border-left: 5px solid #795548;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }
        .use-cases {
            background: #e8f4f8;
            padding: 25px;
            border-radius: 10px;
            margin: 20px 0;
        }
        .example {
            background: #fff3cd;
            border-left: 5px solid #ffc107;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }
        .footer {
            background: #2c3e50;
            color: white;
            text-align: center;
            padding: 20px;
            font-size: 0.9em;
        }
        strong {
            color: #795548;
        }
        code {
            background: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            color: #e83e8c;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Wait</h1>
            <div class="subtitle">Pausas Estratégicas nos Seus Workflows</div>
            <div style="margin-top: 10px;"><a href="https://inema.club" target="_blank" style="color: #00bcd4; text-decoration: none; font-weight: bold;">INEMA.CLUB</a></div>
        </div>

        <div class="content">
            <div class="section">
                <h2>O que o Wait Faz</h2>
                <p>O nó Wait no n8n permite que você pause a execução do workflow por um período de tempo especificado ou até que uma condição externa seja atendida, essencial para throttling, atrasos de tempo e coordenação de processos assíncronos.</p>

                <ul>
                    <li><strong>Pausa a execução do workflow</strong> por segundos, minutos, horas ou até uma data/hora específica</li>
                    <li><strong>Pode esperar por eventos externos</strong> como webhooks, notificações ou confirmações antes de continuar</li>
                    <li><strong>Essencial para respeitar limites de API</strong>, adicionar delays entre ações ou criar workflows com timing preciso</li>
                </ul>

                <img src="images/photo_5093792193734356549_y.jpg" alt="Flow & Core Nodes" style="width: 100%; max-width: 1024px; margin: 2rem auto; border-radius: 12px; box-shadow: 0 20px 60px rgba(0,0,0,0.3); display: block;" />
            </div>

            <div class="section">
                <h2>Principais Casos de Uso</h2>
                <div class="use-cases">
                    <ul>
                        <li><strong>Rate Limiting:</strong> Inserir delays entre chamadas de API para respeitar limites de taxa (ex: esperar 1 segundo entre requisições)</li>
                        <li><strong>Processos de Aprovação:</strong> Pausar workflow até que um humano aprove ou rejeite via webhook ou formulário</li>
                        <li><strong>Delays de Tempo:</strong> Aguardar período específico antes de executar próxima ação (ex: esperar 24 horas antes de enviar email de follow-up)</li>
                        <li><strong>Sincronização:</strong> Coordenar ações que dependem de processos externos ou sistemas que levam tempo para processar</li>
                        <li><strong>Processamento em Lote:</strong> Combinar com Loop Over Items para controlar velocidade de processamento de grandes volumes de dados</li>
                    </ul>
                </div>
            </div>

            <div class="section">
                <h2>Modos de Espera</h2>
                <div class="highlight-box">
                    <h3>1. Tempo Fixo</h3>
                    <p>Espera por um período de tempo específico (segundos, minutos, horas)</p>
                    <ul>
                        <li>Simples e direto</li>
                        <li>Ideal para delays previsíveis</li>
                        <li>Exemplo: esperar 5 segundos entre emails</li>
                    </ul>

                    <h3 style="margin-top: 20px;">2. Data/Hora Específica</h3>
                    <p>Pausa até uma data e hora específica</p>
                    <ul>
                        <li>Útil para agendamentos precisos</li>
                        <li>Pode usar expressões dinâmicas</li>
                        <li>Exemplo: esperar até amanhã às 9h</li>
                    </ul>

                    <h3 style="margin-top: 20px;">3. Webhook/Evento</h3>
                    <p>Espera até receber um webhook ou evento externo</p>
                    <ul>
                        <li>Permite workflows interativos</li>
                        <li>Requer URL de retomada</li>
                        <li>Exemplo: esperar aprovação do usuário</li>
                    </ul>
                </div>
            </div>

            <div class="section">
                <h2>Melhores Práticas e Dicas</h2>
                <div class="highlight-box">
                    <ul>
                        <li><strong>Use com Loop Over Items</strong> para controle preciso de taxa em processamento em lote</li>
                        <li><strong>Configure timeouts apropriados</strong> quando esperar por eventos externos para evitar workflows travados</li>
                        <li><strong>Considere timezone</strong> ao usar esperas baseadas em data/hora específica</li>
                        <li><strong>Não abuse de delays longos</strong> - considere usar Schedule Trigger para ações com dias/semanas de intervalo</li>
                        <li><strong>Para APIs com rate limiting</strong>, calcule o delay necessário: (60 segundos / limite por minuto)</li>
                    </ul>
                </div>
            </div>

            <div class="section">
                <h2>Exemplos Práticos</h2>
                <div class="example">
                    <h3>Exemplo 1: Rate Limiting de API</h3>
                    <p><strong>Cenário:</strong> API permite 10 requisições por minuto</p>
                    <ul>
                        <li>Use Loop Over Items (lote de 1)</li>
                        <li>Adicione nó Wait com 6 segundos (60s ÷ 10 = 6s)</li>
                        <li>Isso garante máximo de 10 requisições/minuto</li>
                    </ul>
                </div>

                <div class="example">
                    <h3>Exemplo 2: Email de Follow-up</h3>
                    <p><strong>Cenário:</strong> Enviar email de follow-up 3 dias após primeiro contato</p>
                    <ul>
                        <li>Trigger: novo lead no CRM</li>
                        <li>Enviar email de boas-vindas</li>
                        <li>Wait: 3 dias (4320 minutos)</li>
                        <li>Enviar email de follow-up</li>
                    </ul>
                </div>

                <div class="example">
                    <h3>Exemplo 3: Aprovação Manual</h3>
                    <p><strong>Cenário:</strong> Workflow precisa de aprovação humana</p>
                    <ul>
                        <li>Processar dados iniciais</li>
                        <li>Enviar notificação com link de aprovação</li>
                        <li>Wait (modo webhook) até receber aprovação/rejeição</li>
                        <li>Continuar baseado na resposta</li>
                    </ul>
                </div>
            </div>

            <div class="section">
                <h2>Considerações Importantes</h2>
                <div class="highlight-box">
                    <ul>
                        <li><strong>Workflows em espera consomem recursos</strong> - planeje sua infraestrutura adequadamente</li>
                        <li><strong>Defina sempre timeouts</strong> para esperas baseadas em eventos externos</li>
                        <li><strong>Documente delays longos</strong> no seu workflow para que outros entendam o timing</li>
                        <li><strong>Para delays muito longos</strong> (dias/semanas), considere usar abordagem com banco de dados + Schedule Trigger</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="footer">
            <p>n8n Cheatsheet - Wait Node | Baseado em "Master n8n with 17 Nodes" by Nate Herk</p>
        </div>
    </div>
</body>
</html>